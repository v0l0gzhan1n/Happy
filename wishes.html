<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Поздравления</title>
  <link rel="stylesheet" href="./css/style.css">
  <link rel="shortcut icon" href="./img/букет.png" type="image/x-icon">
</head>
<body class="body-wishes">
  <div class="con-wishes">
    <div class="first-row-gap">
      <div class="card-gif" onclick="openModal('modal1')">
        <video src="./img/video1.mp4" preload="none" poster="./img/preview3.png" muted></video>
      </div>
      <div id="modal1" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal1')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video1.mp4" type="video/mp4">
          </video>
          <div class="text-gif">
            <p>
              Самому человечному человеку хочется пожелать в юбилей невероятно ярких событий, взрывных эмоций, трепетных чувств. Ты — эталон чуткости и доброты, великодушия и милосердия. У тебя широкая душа, тонкое чувство юмора и большое сердце. С юбилеем!
            </p>
          </div>
        </div>
      </div>
      <div class="card-gif" onclick="openModal('modal2')">
        <video src="./img/video2.mp4" preload="none" poster="./img/preview4.png" muted></video>
      </div>
      <div id="modal2" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal2')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video2.mp4" type="video/mp4">
          </video>
          <div class="text-gif">
            <p>
              С Днём рождения! От брата Димы
            </p>
          </div>
        </div>
      </div>
      <div class="card-gif" onclick="openModal('modal3')">
        <video src="./img/video3.mp4" preload="none" poster="./img/preview5.png" muted></video>
      </div>
      <div id="modal3" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal3')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video3.mp4" type="video/mp4">
          </video>
          <div class="text-gif">
            <p>
              Любимая крестная, с Днём рождения! От Тони
            </p>
          </div>
        </div>
      </div>
      <div class="card-gif" onclick="openModal('modal4')">
        <video src="./img/video4.mp4" preload="none" poster="./img/preview6.png" muted></video>
      </div>
      <div id="modal4" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal4')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video4.mp4" type="video/mp4">
          </video>
          <div class="text-gif">
            <p>
              Тётя Наташа, с Днём рождения! Желаю счастья, здоровья и успешно жизни. От Егора
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="second-row-gap">
      <div class="card-gif" onclick="openModal('modal5')">
        <video src="./img/video5.mp4" preload="none" poster="./img/preview7.png" muted></video>
      </div>
      <div id="modal5" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal5')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video5.mp4" type="video/mp4">
          </video>
          <div class="text-gif">
            <p>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Repudiandae consequatur, adipisci accusantium dignissimos possimus quibusdam! Eius odit voluptatum laboriosam rem accusantium amet temporibus alias sapiente, corporis dignissimos possimus, itaque laudantium!
            </p>
          </div>
        </div>
      </div>
      <div class="btn-img">
        <a href="./age.html"><img src="./img/букет.png" alt="" srcset=""></a>
      </div>
      <div class="row-p">
        <p class="display" style="color: white;">Нажмите на окошко</p>
        <p class="none heartbeat">Нажмите на букет</p>
      </div>
      
    </div>
    <div class="trird-row-gap">
      
      <div class="card-gif" onclick="openModal('modal6')">
        <video src="./img/video6.mp4" preload="none" poster="./img/preview1.png" muted></video>
      </div>
      <div id="modal6" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal6')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video6.mp4" type="video/mp4">
          </video>
          <div class="text-gif">
            <p>
              Наташечка, поздравляем тебя с Днём рождения! Сегодня жизнь ставит тебе две 5, за прожитые тобой годы и все что ты сделала хорошего за это время. Родила и воспитала дочь. Достигла успехов в работе. Имеешь хорошего, доброго мужа. Поддерживаешь хорошие отношения с родственниками. Здоровья тебе и благополучия. Вручат. Ура!!!!
            </p>
          </div>
        </div>
      </div>
      <div class="card-gif" onclick="openModal('modal7')">
        <video src="./img/video7.mp4" preload="none" poster="./img/preview8.png" muted></video>
      </div>
      <div id="modal7" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal7')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video7.mp4" type="video/mp4">
          </video>
        </div>
      </div>
      <div class="card-gif" onclick="openModal('modal8')">
        <video src="./img/video8.mp4" preload="none" poster="./img/preview2.png" muted></video>
      </div>
      <div id="modal8" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal8')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video8.mp4" type="video/mp4">
          </video>
          <div class="text-gif">
            <p>
              Сёстрик, поздравляю тебя с днюшечкой! Если хочешь быть счастливой будь ей, если хочешь быть любимой- люби. Рада, что мы идём с тобой по жизни. Надеюсь, что много интересного нас ждёт на пути. Обнимаю.
            </p>
          </div>
        </div>
      </div>
      <div class="card-gif" onclick="openModal('modal9')">
        <video src="./img/video9.mp4" preload="none" poster="./img/preview9.png" muted></video>
      </div>
      <div id="modal9" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('modal9')"><img src="./img/close.png" alt="" srcset=""></span>
          <video controls autoplay muted loop onended="restartVideo(this)">
            <source src="./img/video9.mp4" type="video/mp4">
          </video>
        </div>
      </div>
    </div>
  </div>
</body>
<script>
function openModal(modalId) {
  var modal = document.getElementById(modalId);
  modal.style.display = "block";
  var video = modal.querySelector('video');
  video.play(); // Запуск видео при открытии модального окна
}

let modalCount = 9; // Всего модальных окон
let closedModals = new Set(); // Множество для отслеживания закрытых модальных окон

function closeModal(modalId) {
  var modal = document.getElementById(modalId);
  modal.style.display = "none";
  var video = modal.querySelector('video');
  video.pause(); // Остановка видео при закрытии модального окна
  video.currentTime = 0; // Сброс времени видео

  // Добавление модального окна в множество закрытых, если его там еще нет
  if (!closedModals.has(modalId)) {
    closedModals.add(modalId);
    checkAllModalsClosed();
  }
}

function checkAllModalsClosed() {
  // Проверка, закрыты ли все модальные окна
  if (closedModals.size === modalCount) {
    switchDisplayAndNoneClasses(); // Изменение классов, если все окна были закрыты
  }
}

function switchDisplayAndNoneClasses() {
  const displayElement = document.querySelector('.display');
  const noneElement = document.querySelector('.none');
  const btnimg = document.querySelector('.btn-img');
  displayElement.classList.replace('display', 'none');
  noneElement.classList.replace('none', 'display');
  btnimg.classList.add('btn-img-heart')
}

</script>
<script>
  function restartVideo(videoElement) {
  videoElement.play();
}
</script>
<script>
</script>
</html>